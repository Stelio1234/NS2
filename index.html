<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nintendo Switch 2 - All You Need to Know</title>
    <link rel="manifest" href="manifest.json">
    <style>
        /* General Styles */
        body {
            background-color: #ffffff;
            font-family: Arial, Helvetica, sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        html {
            height: 100%;
        }

        /* Header */
        header {
            height: 50px;
            background-color: red;
            color: white;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            
        }

        header .title {
            font-size: 20px;
            font-weight: bold;
        }

        header nav a {
            margin-left: 15px;
            color: white;
            text-decoration: none;
            position: relative;
        }

        header nav a:hover {
            text-decoration: underline;
        }

        /* Notification Button */
        .notify-btn {
            background: red;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 20px;
            display: block;
            text-align: center;
        }

        .notify-btn:hover {
            background: red;
        }

        /* Sections */
        .section {
            text-align: center;
            padding: 40px 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .section h1 {
            color: #000;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .section p {
            color: #333;
            font-size: 18px;
            line-height: 1.6;
        }

        /* Footer */
        footer {
            text-align: center;
            background-color: #ddd;
            padding: 10px;
            font-size: 14px;
        }
        #countdown-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
        }
        #title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #FFFFFF;
        }
        .countdown {
            display: flex;
            gap: 10px;
            font-size: 1.5rem;
        }
        .time-box {
            background: #ff3b3b;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        .specs-container {
            display: flex;
            justify-content: center; /* Centers the list horizontally */
            align-items: center; /* Centers content vertically if needed */
            text-align: center;
        }

        .specs-list {
            list-style-type: disc; /* Ensures bullet points are visible */
            text-align: left; /* Aligns text to the left */
            padding: 0;
            margin: 0;
        }

        .specs-list li {
            text-align: left; /* Keeps text aligned properly under bullet points */
            margin: 5px 0; /* Adds spacing between items */
        }



    </style>
</head>
    <div id="countdown-container">
        <div id="title">Nintendo Direct</div>
        <div class="countdown">
            <div class="time-box"><span id="days">00</span>d</div>
            <div class="time-box"><span id="hours">00</span>h</div>
            <div class="time-box"><span id="minutes">00</span>m</div>
        </div>
    </div>
<body>
    <header>
        <div class="title">Nintendo Switch 2</div>
        <nav>
            <a href="#info">Info</a>
            <a href="#leaks">Leaks</a>
            <a href="#updates">Nintendo Updates</a>
        </nav>
    </header>

    <div class="section" id="info">
        <h1>Welcome</h1>
        <p>This site has everything you need to know about the upcoming Nintendo Switch 2.</p>
    </div>

    <div class="section" id="leaks">
        <h1>Leaks & Rumors</h1>
        <p>Threr are many rumors going around about the Switch 2, such as specs, launch titles, price etc. One thing people realy want to know are the specs. Below are the specs acording to leaks </p>
    </div>

    <div class="specs-container">
        <ul class="specs-list">
            <li>CPU: Arm Cortex-A78C with eight cores</li>
            <li>GPU: Nvidia T239 Ampere with 1534 CUDA cores, two RTX ray-tracing cores, and 48 Gen 3 Tensor cores</li>
            <li>RAM: 12 GB of LPDDR5</li>
            <li>Storage: 256 GB of onboard storage</li>
        </ul>
    </div>
    >
    
    

    <div class="section" id="updates">
        <h1>Latest Nintendo Updates</h1>
        <p>AS of 2/4/25 there are some updates about the switch 2. On 1/26/24 The Nintendo od America posted the release video for the Nintendo Switch, along with some more info. We already know that the switch to will launch with Mario Kart 9. As of now they have not sent anything else out to the public. We will most likely find out more at Nintendo Direct on April 2. </p>
    </div>

    <!-- Push Notification Button -->
    <button class="notify-btn" id="notifyBtn">Enable Notifications</button>

    <footer>
        &copy; 2025 Nintendo Switch 2 Fan Page | All Rights Reserved
    </footer>

    <script>
        const serverUrl = "https://your-ngrok-url.ngrok-free.app"; 

        if ('serviceWorker' in navigator && 'PushManager' in window) {
            navigator.serviceWorker.register('/sw.js')
                .then(registration => {
                    console.log('Service Worker Registered', registration);
                })
                .catch(error => {
                    console.error('Service Worker Registration Failed', error);
                });
        }

        async function subscribeToPushNotifications() {
            try {
                // Request notification permission
                const permission = await Notification.requestPermission();
                if (permission !== "granted") {
                    alert("You need to allow notifications.");
                    return;
                }

                // Register service worker
                const registration = await navigator.serviceWorker.ready;

                // Fetch VAPID public key
                const response = await fetch(`${serverUrl}/vapidPublicKey`);
                const data = await response.json();
                const vapidPublicKey = data.publicKey;

                // Convert VAPID key to Uint8Array
                function urlBase64ToUint8Array(base64String) {
                    const padding = '='.repeat((4 - base64String.length % 4) % 4);
                    const base64 = (base64String + padding)
                        .replace(/\-/g, '+')
                        .replace(/_/g, '/');
                    const rawData = window.atob(base64);
                    return new Uint8Array([...rawData].map(char => char.charCodeAt(0)));
                }

                const applicationServerKey = urlBase64ToUint8Array(vapidPublicKey);
                const subscription = await registration.pushManager.subscribe({
                    userVisibleOnly: true,
                    applicationServerKey
                });

                // Send subscription to backend
                await fetch(`${serverUrl}/subscribe`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(subscription)
                });

                alert("Subscribed to notifications!");

            } catch (error) {
                console.error("Subscription failed", error);
            }
        }

        document.getElementById("notifyBtn").addEventListener("click", subscribeToPushNotifications);

                function startCountdown(targetDate) {
            function updateCountdown() {
                const now = new Date().getTime();
                const distance = targetDate - now;

                if (distance < 0) {
                    document.getElementById("countdown-container").innerHTML = "⏳ Nintendo Direct is Live!";
                    clearInterval(interval);
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

                document.getElementById("days").innerText = days.toString().padStart(2, '0');
                document.getElementById("hours").innerText = hours.toString().padStart(2, '0');
                document.getElementById("minutes").innerText = minutes.toString().padStart(2, '0');
            }

            updateCountdown(); 
            const interval = setInterval(updateCountdown, 1000);
        }

        // Set the target date for the Nintendo Direct
        const targetDate = new Date("2025-04-02 12:00:00").getTime();
        startCountdown(targetDate);
    </script>
</body>
</html>
